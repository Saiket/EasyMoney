#:kivy 1.9
# Defines templates related to the view.simulation_tab module.

<ImageButton@ButtonBehavior+Image>:

<SymbolRow>:

<TraderBox>:
    BoxLayout:
        # Gray background
        canvas:
            Color:
                rgba: 0.2, 0.2, 0.2, 1
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: mm(1)
        pos_hint: {'x': 0, 'y': 0}
        orientation: 'vertical'
        BoxLayout:
            text: root.trader_name
        BoxLayout:
            text: root.bought_str
        BoxLayout:
            text: root.sold_str

<SimulationTab>:
    text: 'Simulation'
    BoxLayout:
        orientation: 'vertical'

        # Main layout is broken up into three areas: top area, center area, and bottom area
        # Top area: play/pause buttons, simulation time
        # Center area: scrollable stock symbol display
        # Bottom area: Trade bots behavior

        # Button area
        BoxLayout:
            size_hint_y: None
            height: cm(1.5)
            padding: 10, 10
            BoxLayout:
                padding: 0, 0, 30, 0
                orientation: 'horizontal'
                Button:
                    text: 'Reset'
                    on_release: root.reset_simulation
                Button:
                    text: 'Play'
                    disabled: root.state == 'playing'
                    on_release: root.play_simulation()
                Button:
                    text: 'Pause'
                    disabled: root.state == 'paused'
                    on_release: root.pause_simulation()
                ImageButton:
                    opacity: 0
                    source: 'view/pause.png'
                    on_press: root.run_console_test()

                # Spacer
                Label:
                Label:
                    text: 'Simulation Time:'

            # Simulation time field
            BoxLayout:
                Label:
                    # White background
                    canvas:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos
