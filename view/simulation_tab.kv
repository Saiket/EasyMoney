#:kivy 1.9
# Defines templates related to the view.simulation_tab module.

<ImageButton@ButtonBehavior+Image>:

<SymbolRow>:

<TraderBox>:
    BoxLayout:
        # Gray background
        canvas:
            Color:
                rgba: 0.2, 0.2, 0.2, 1
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: mm(1)
        pos_hint: {'x': 0, 'y': 0}
        orientation: 'vertical'
        BoxLayout:
            text: root.trader_name
        BoxLayout:
            text: root.bought_str
        BoxLayout:
            text: root.sold_str

<SimulationTab>:
    text: 'Simulation'
    trader_boxes: trader_boxes
    BoxLayout:
        orientation: 'vertical'

        # Main layout is broken up into three areas: top area, center area, and bottom area
        # Top area: play/pause buttons, simulation time
        # Center area: scrollable stock symbol display
        # Bottom area: Trade bots behavior

        # Top area
        BoxLayout:
            size_hint: 1, .1
            padding: 10, 10
            BoxLayout:
                padding: 0, 0, 15, 0
                orientation: 'horizontal'
                BoxLayout:
                    ImageButton:
                        source: 'view/pause.png'
                        on_press: root.run_console_test()
                BoxLayout:
                    ImageButton:
                        source: 'view/reset.png'
                        #on_press:
                # Spacer
                Label:
                Label:
                    text: 'Simulation Time:'

            # Simulation time field
            BoxLayout:
                Label:
                    # White background
                    canvas:
                        Color:
                            rgba: 1, 1, 1, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos
        # Center area
        BoxLayout:
            size_hint: 1, .1
            Label:
                text: "Bot's Daily Statistics"
            # Spacers
            Label:
            Label:
            Label:
        BoxLayout:
            padding: 10, 0, 10, 10
            size_hint_y: .5
            ScrollView:
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
        # Bottom area
        BoxLayout:
            size_hint: 1, .1
            Label:
                text: "Trade Bots"
            # Spacers
            Label:
            Label:
            Label:
        BoxLayout:
            padding: 10, 0, 10, 10
            size_hint_y: .2
            ScrollView:
                do_scroll_x: False

                # Row container
                BoxLayout:
                    id: trader_boxes
                    orientation: 'horizontal'

                    spacing: mm(2)
                    size_hint_y: None
                    height: self.minimum_height